!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["ez-tags"]=e():t["ez-tags"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=13)}([function(t,e,n){t.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var i=n(1),s=n(2),o=n(20),r=n(22),a="prototype",u=function(t,e,n){var c,l,f,d=t&u.F,p=t&u.G,h=t&u.S,g=t&u.P,v=t&u.B,x=t&u.W,_=p?s:s[e]||(s[e]={}),m=_[a],y=p?i:h?i[e]:(i[e]||{})[a];p&&(n=e);for(c in n)(l=!d&&y&&void 0!==y[c])&&c in _||(f=l?y[c]:n[c],_[c]=p&&"function"!=typeof y[c]?n[c]:v&&l?o(f,i):x&&y[c]==f?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[a]=t[a],e}(f):g&&"function"==typeof f?o(Function.call,f):f,g&&((_.virtual||(_.virtual={}))[c]=f,t&u.R&&m&&!m[c]&&r(m,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var i=n(23),s=n(24),o=n(26),r=Object.defineProperty;e.f=n(0)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),s)try{return r(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(8),s=n(9);t.exports=function(t){return i(s(t))}},function(t,e,n){var i=n(32);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i,s;(i=n(47))&&i.__esModule&&Object.keys(i).length,s=n(48),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)},function(t,e,n){var i,s;(i=n(49))&&i.__esModule&&Object.keys(i).length,s=n(50),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EzTagsSelected=e.EzTagsOption=e.EzTags=void 0;r(n(14));var i=r(n(15)),s=r(n(11)),o=r(n(12));function r(t){return t&&t.__esModule?t:{default:t}}e.EzTags=i.default,e.EzTagsOption=s.default,e.EzTagsSelected=o.default},function(t,e){},function(t,e,n){var i,s;(i=n(16))&&i.__esModule&&Object.keys(i).length,s=n(51),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default),s&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=s)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(n(17)),s=a(n(43)),o=a(n(11)),r=a(n(12));function a(t){return t&&t.__esModule?t:{default:t}}e.default={components:{EzTagsOption:o.default,EzTagsSelected:r.default},data:function(){return{input:"",selectedTags:[],activeOptionIndex:0,inFocus:!1}},props:{disabled:{default:!1},value:{default:"value"},label:{default:"value"},allowNew:{default:!0},asyncAdd:{default:!1},options:{default:function(){return[]}},selected:{default:function(){return[]}},placeholder:{default:"Click here to type"}},computed:{showDropdown:function(){return!(!this.filteredTags.length||!this.inFocus)},inputIsSelected:function(){var t=this;return!!this.selectedTags.find(function(e){return t.getTagValue(e)==t.input})},inputExists:function(){var t=this;return!!this.allTags.find(function(e){return t.getTagValue(e)==t.input})},allTags:function(){return this.unselectedTags.concat(this.selectedTags).map(this.stringifyTagValue)},unselectedTags:function(){var t=this;return this.options.map(this.stringifyTagValue).filter(function(e){return!t.selectedTags.find(function(n){return t.getTagValue(n)==t.getTagValue(e)})})},filteredTags:function(){var t=this,e=[];if(this.input){var n;if(this.inputIsSelected)e.push((n={},(0,s.default)(n,this.value,this.input),(0,s.default)(n,"selected",!0),n));else if(!this.inputExists){var i,o;if(this.allowNew)e.push((i={},(0,s.default)(i,this.value,this.input),(0,s.default)(i,"new",!0),i));else e.push((o={},(0,s.default)(o,this.value,this.input),(0,s.default)(o,"invalid",!0),o))}e=e.concat(this.unselectedTags.filter(function(e){return t.getTagValue(e).toString().includes(t.input)}))}else e=this.unselectedTags;return this.removeDuplicates(e,this.value)}},watch:{activeOptionIndex:function(){this.checkOptionIsInView()},selected:function(t){this.selectTags(t)},selectedTags:function(t){this.$emit("update",t)},input:function(t){this.setSearchElementsWidth(),this.resetOptionIndex()}},created:function(){this.selected&&this.selectTags(this.selected)},ready:function(){window.addEventListener("resize",this.setSearchElementsWidth),this.setSearchElementsWidth(),this.addFocusListeners()},beforeDestroy:function(){window.removeEventListener("resize",this.setSearchElementsWidth)},methods:{getElementComputedStyle:function(t,e){return window.getComputedStyle(t).getPropertyValue(e)},setSearchElementsWidth:function(){var t=this.$els.search,e=this.$els.placeholderMeasurement,n=this.$els.searchMeasurement,i=t.parentElement.clientWidth,s=e.clientWidth,o=n.clientWidth,r=o<s?s:o;r=(r>i?i:r)+"px",this.$els.search.style.width=r},removeDuplicates:function(t,e){return t.reduce(function(t,n){var i=n[e];return void 0===t.uniqueValues[i]&&(t.uniqueValues[i]=!0,t.items.push(n)),t},{uniqueValues:{},items:[]}).items},addFocusListeners:function(){var t=this;this.$el.addEventListener("focusin",function(e){t.inFocus=!0}),this.$el.addEventListener("focusout",function(e){var n=document.body,i=t.$el,s=e.relatedTarget;!s||s==n||s==i||i.contains(s)?t.inFocus=!0:t.inFocus=!1}),document.addEventListener("click",function(e){t.inFocus=!1})},stringifyTagValue:function(t){return(0,i.default)({},t,(0,s.default)({},this.value,this.getTagValue(t).toString()))},clearSelected:function(){this.selectedTags=[]},selectOptionFromIndex:function(t){var e=document.getElementsByClassName("ez-tag__option")[t];e&&this.checkOptionIsInView(e)},checkOptionIsInView:function(t){var e=document.getElementsByClassName("ez-tag__option--active")[0];if(t=t||e){var n=t.parentElement.offsetHeight,i=t.parentElement.scrollTop,s=t.offsetTop;(s<0||s>n||s<i)&&this.scrollToOption(t)}},scrollToOption:function(t){t&&(t.parentElement.scrollTop=t.offsetTop)},unselectTag:function(t){this.selectedTags=this.selectedTags.filter(function(e){return e!=t})},selectTagFromOption:function(){var t=document.getElementsByClassName("ez-tag__option--active")[0];t&&t.click()},canSelectTag:function(t){var e="string"==typeof this.getTagValue(t)?this.getTagValue(t).replace(/^\s*|\s*\Z|\s\B/g,""):this.getTagValue(t),n="number"==typeof e||!!e,i=!this.tagIsSelected(t),s=!t.invalid;return!!(i&&s&&n)},addTagToSelected:function(t){this.canSelectTag(t)&&this.selectedTags.push(t)},selectTags:function(t){var e=this;t.forEach(this.addTagToSelected),this.$nextTick(function(){e.checkIfActiveOptionExists()})},selectTag:function(t){this.canSelectTag(t)&&(this.asyncAdd&&t.new?this.$emit("add",t):this.selectedTags.push(t),this.input==this.getTagValue(t)&&(this.input=""),this.$nextTick(this.checkIfActiveOptionExists))},checkIfActiveOptionExists:function(){var t=document.getElementsByClassName("ez-tag__option");this.activeOptionIndex>t.length-1&&this.prevOption()},focusInput:function(){this.$els.search.focus()},unselectLastTag:function(t){this.input||this.selectedTags.pop()},tagIsSelected:function(t){var e=this;return this.selectedTags.find(function(n){return e.getTagValue(n)==e.getTagValue(t)})},setOptionIndex:function(t){this.activeOptionIndex=t},resetOptionIndex:function(){var t=this.inputIsSelected?1:0;this.setOptionIndex(t)},nextOption:function(){var t=document.getElementsByClassName("ez-tag__option");this.activeOptionIndex>=t.length-1?this.setOptionIndex(0):this.setOptionIndex(this.activeOptionIndex+1)},prevOption:function(){var t=document.getElementsByClassName("ez-tag__option"),e=this.activeOptionIndex,n=t.length-1;e<=0?this.setOptionIndex(n):this.setOptionIndex(this.activeOptionIndex-1)},getTagValue:function(t){var e=t[this.value];return void 0!==e?e:t.value},getTagLabel:function(t){var e=t[this.label];return void 0!==e?e:this.getTagValue(t)}}}},function(t,e,n){t.exports={default:n(18),__esModule:!0}},function(t,e,n){n(19),t.exports=n(2).Object.assign},function(t,e,n){var i=n(5);i(i.S+i.F,"Object",{assign:n(28)})},function(t,e,n){var i=n(21);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,s){return t.call(e,n,i,s)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(6),s=n(27);t.exports=n(0)?function(t,e,n){return i.f(t,e,s(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(3);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(0)&&!n(4)(function(){return 7!=Object.defineProperty(n(25)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(3),s=n(1).document,o=i(s)&&i(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},function(t,e,n){var i=n(3);t.exports=function(t,e){if(!i(t))return t;var n,s;if(e&&"function"==typeof(n=t.toString)&&!i(s=n.call(t)))return s;if("function"==typeof(n=t.valueOf)&&!i(s=n.call(t)))return s;if(!e&&"function"==typeof(n=t.toString)&&!i(s=n.call(t)))return s;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(29),s=n(40),o=n(41),r=n(42),a=n(8),u=Object.assign;t.exports=!u||n(4)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=r(t),u=arguments.length,c=1,l=s.f,f=o.f;u>c;)for(var d,p=a(arguments[c++]),h=l?i(p).concat(l(p)):i(p),g=h.length,v=0;g>v;)f.call(p,d=h[v++])&&(n[d]=p[d]);return n}:u},function(t,e,n){var i=n(30),s=n(39);t.exports=Object.keys||function(t){return i(t,s)}},function(t,e,n){var i=n(31),s=n(7),o=n(33)(!1),r=n(36)("IE_PROTO");t.exports=function(t,e){var n,a=s(t),u=0,c=[];for(n in a)n!=r&&i(a,n)&&c.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(7),s=n(34),o=n(35);t.exports=function(t){return function(e,n,r){var a,u=i(e),c=s(u.length),l=o(r,c);if(t&&n!=n){for(;c>l;)if((a=u[l++])!=a)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var i=n(10),s=Math.min;t.exports=function(t){return t>0?s(i(t),9007199254740991):0}},function(t,e,n){var i=n(10),s=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?s(t+e,0):o(t,e)}},function(t,e,n){var i=n(37)("keys"),s=n(38);t.exports=function(t){return i[t]||(i[t]=s(t))}},function(t,e,n){var i=n(1),s="__core-js_shared__",o=i[s]||(i[s]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(9);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";e.__esModule=!0;var i,s=n(44),o=(i=s)&&i.__esModule?i:{default:i};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){t.exports={default:n(45),__esModule:!0}},function(t,e,n){n(46);var i=n(2).Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},function(t,e,n){var i=n(5);i(i.S+i.F*!n(0),"Object",{defineProperty:n(6).f})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{default:"value"},label:{default:"value"},disabled:{default:!1},tag:{default:function(){}}},computed:{display:function(){return this.tag.new?'Add "'+this.getLabel()+'"':this.tag.selected?'"'+this.getLabel()+'" is already selected':this.tag.invalid?'No results matches "'+this.getLabel()+'"':this.getLabel()}},methods:{getLabel:function(){var t=this.tag[this.label];return void 0!==t?t:this.getValue()},getValue:function(){var t=this.tag[this.value];return void 0!==t?t:this.tag.value}}}},function(t,e){t.exports='\n\n\n<div class="ez-tag__option">{{display}}</div>\n\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{value:{default:"value"},label:{default:"value"},disabled:{default:!1},tag:{default:function(){}}},computed:{style:function(){return{background:this.tag.color,color:this.tag.color?"white":"black",border:"1px solid "+(this.tag.color?this.tag.color:"#dedede")}}},methods:{unselect:function(t){this.$emit("unselect",t)},getLabel:function(){var t=this.tag[this.label];return void 0!==t?t:this.getValue()},getValue:function(){var t=this.tag[this.value];return void 0!==t?t:this.tag.value}}}},function(t,e){t.exports='\n\n<div class="ez-tag__item" :style="style">\n    <span class="ez-tag__item-text">{{getLabel()}}</span>\n    <span v-if="!disabled" v-on:click="unselect(tag)" class="ez-tag__item-cross">\n        <span class="ez-tag__item-cross-line" :style="{ background: style.color }"></span>\n        <span class="ez-tag__item-cross-line" :style="{ background: style.color }"></span>\n    </span>\n</div>\n\n'},function(t,e){t.exports='\n\n<div v-on:click.stop="focusInput" :class="{\'ez-tag--focus\': inFocus, \'ez-tag--disabled\': disabled}" class="ez-tag">\n    <div v-on:keyup.enter="selectTagFromOption" v-on:keydown.down="nextOption" v-on:keydown.up="prevOption" :class="{\'ez-tag__input-container--open\': showDropdown}" class="ez-tag__input-container">\n        <div class="ez-tag__items">\n            <ez-tags-selected v-for="tag in selectedTags" v-on:unselect="unselectTag" :tag="tag" :label="label" :value="value" :disabled="disabled" track-by="$index"></ez-tags-selected>\n            <input v-show="!disabled" v-el:search v-on:keydown.8="unselectLastTag" v-model="input" tabindex="0" type="text" class="ez-tag__input" :placeholder="placeholder">\n            <div v-el:placeholder-measurement class="ez-tag__input-measure">{{placeholder}}</div>\n            <div v-el:search-measurement class="ez-tag__input-measure">{{input}}</div>\n            <div v-if="disabled && !selectedTags.length" class="ez-tag__no-tags">No tags</div>\n        </div>\n        <div v-if="selectedTags.length && !disabled" class="ez-tag__clear-items">\n            <span v-on:click.stop="clearSelected" class="ez-tag__item-cross">\n                <span class="ez-tag__item-cross-line"></span>\n                <span class="ez-tag__item-cross-line"></span>\n            </span>\n        </div>\n    </div>\n    <div v-if="showDropdown && !disabled" v-el:dropdown class="ez-tag__dropdown">\n        <div class="ez-tag__option-container" tabindex="-1">\n            <ez-tags-option v-for="tag in filteredTags" v-on:click="selectTag(tag)" :tag="tag" :label="label" :value="value" :disabled="disabled" track-by="$index" :class="{\'ez-tag__option--active\': activeOptionIndex == $index}" track-by="$index"></ez-tags-option>\n        </div>\n        <div v-if="1<1" v-on:click.stop="closeDropdown" class="ez-tag__close">\n            Close\n        </div>\n    </div>\n</div>\n\n'}])});