!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["ez-tags"]=e():t["ez-tags"]=e()}("undefined"!=typeof self?self:this,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(6),o=n(7);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(32);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i,o;(i=n(43))&&i.__esModule&&Object.keys(i).length>1&&console.warn("[vue-loader] src/mixins/option.vue: named exports in *.vue files are ignored."),o=n(44),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},function(t,e,n){var i,o;(i=n(45))&&i.__esModule&&Object.keys(i).length>1&&console.warn("[vue-loader] src/mixins/selected.vue: named exports in *.vue files are ignored."),o=n(46),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),o=(n.n(i),n(13)),s=n.n(o),r=n(9),c=n.n(r),a=n(10),u=n.n(a);n.d(e,"EzTags",function(){return s.a}),n.d(e,"EzTagsOption",function(){return c.a}),n.d(e,"EzTagsSelected",function(){return u.a})},function(t,e){},function(t,e,n){var i,o;(i=n(14))&&i.__esModule&&Object.keys(i).length>1&&console.warn("[vue-loader] src/mixins/tags.vue: named exports in *.vue files are ignored."),o=n(47),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports.default),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(15)),o=r(n(9)),s=r(n(10));function r(t){return t&&t.__esModule?t:{default:t}}e.default={components:{TagOption:o.default,TagSelected:s.default},data:function(){return{input:"",selectedTags:[],activeOptionIndex:0,inFocus:!1}},props:{label:{default:"value"},allowNew:{default:!0},options:{default:function(){return[]}},selected:{default:function(){return[]}},placeholder:{default:"Click here to type"}},computed:{showDropdown:function(){return console.log("show dropdown?",this.filteredTags.length,this.inFocus,!(!this.filteredTags.length||!this.inFocus)),!(!this.filteredTags.length||!this.inFocus)},inputIsSelected:function(){var t=this;return!!this.selectedTags.find(function(e){return e.value==t.input})},inputExists:function(){var t=this;return!!this.allTags.find(function(e){return e.value==t.input})},allTags:function(){return this.unselectedTags.concat(this.selectedTags).map(this.stringifyTagValue)},unselectedTags:function(){var t=this;return this.options.map(this.stringifyTagValue).filter(function(e){return!t.selectedTags.find(function(t){return t.value==e.value})})},filteredTags:function(){var t=this,e=[];return this.input?(this.inputIsSelected?e.push({value:this.input,selected:!0}):this.inputExists||(this.allowNew?e.push({value:this.input,new:!0}):e.push({value:this.input,invalid:!0})),e=e.concat(this.unselectedTags.filter(function(e){return e.value.toString().includes(t.input)}))):e=this.unselectedTags,this.removeDuplicates(e,"value")}},watch:{activeOptionIndex:function(){this.checkOptionIsInView()},selected:function(t){this.selectTags(t)},selectedTags:function(t){this.$emit("update",t)},input:function(t){this.setSearchElementsWidth(),this.resetOptionIndex()}},created:function(){this.selected&&this.selectTags(this.selected)},ready:function(){window.addEventListener("resize",this.setSearchElementsWidth),this.setSearchElementsWidth(),this.addFocusListeners()},methods:{getElementComputedStyle:function(t,e){return window.getComputedStyle(t).getPropertyValue(e)},setSearchElementsWidth:function(){var t=this.$els.search,e=this.$els.placeholderMeasurement,n=this.$els.searchMeasurement,i=t.parentElement.clientWidth,o=e.clientWidth,s=n.clientWidth,r=(parseFloat(this.getElementComputedStyle(t,"padding-left").slice(0,-2)),parseFloat(this.getElementComputedStyle(t,"padding-right").slice(0,-2)),s<o?o:s);r=(r>i?i:r)+"px",this.$els.search.style.width=r},removeDuplicates:function(t,e){return t.reduce(function(t,n){var i=n[e];return void 0===t.uniqueValues[i]&&(t.uniqueValues[i]=!0,t.items.push(n)),t},{uniqueValues:{},items:[]}).items},addFocusListeners:function(){var t=this;document.addEventListener("focusin",function(e){var n=t.$el,i=e.target;i==n||n.contains(i)?t.inFocus=!0:t.inFocus=!1}),document.addEventListener("click",function(e){t.inFocus=!1})},stringifyTagValue:function(t){return(0,i.default)({},t,{value:t.value.toString()})},closeDropdown:function(t){var e=this,n=this.$els.dropdown;n&&(n.style.display="none",this.$nextTick(function(){"none"==n.style.display&&e.resetOptionIndex()}))},openDropdown:function(){var t=this,e=this.$els.dropdown;e&&(e.style.display="block",this.$nextTick(function(){"none"!=e.style.display&&t.checkOptionIsInView()}))},clearSelected:function(){this.selectedTags=[]},selectOptionFromIndex:function(t){var e=document.getElementsByClassName("ez-tag__option")[t];e&&this.checkOptionIsInView(e)},checkOptionIsInView:function(t){var e=document.getElementsByClassName("ez-tag__option--active")[0];if(t=t||e){var n=t.parentElement.offsetHeight,i=t.parentElement.scrollTop,o=t.offsetTop;(o<0||o>n||o<i)&&this.scrollToOption(t)}},scrollToOption:function(t){t&&(t.parentElement.scrollTop=t.offsetTop)},unselectTag:function(t){this.selectedTags=this.selectedTags.filter(function(e){return e!=t})},selectTagFromOption:function(){var t=document.getElementsByClassName("ez-tag__option--active")[0];t&&t.click()},canSelectTag:function(t){var e="string"==typeof t.value?t.value.replace(/^\s*|\s*\Z|\s\B/g,""):t.value,n="number"==typeof e||!!e,i=!this.tagIsSelected(t),o=!t.invalid;return!!(i&&o&&n)},addTagToSelected:function(t){this.canSelectTag(t)&&this.selectedTags.push(t)},selectTags:function(t){var e=this;t.forEach(this.addTagToSelected),this.$nextTick(function(){e.checkIfActiveOptionExists()})},selectTag:function(t){this.canSelectTag(t)&&(this.selectedTags.push(t),this.input==t.value&&(this.input=""),this.$nextTick(this.checkIfActiveOptionExists))},checkIfActiveOptionExists:function(){var t=document.getElementsByClassName("ez-tag__option");this.activeOptionIndex>t.length-1&&this.prevOption()},focusInput:function(){this.$els.search.focus()},unselectLastTag:function(t){this.input||this.selectedTags.pop()},tagIsSelected:function(t){return this.selectedTags.find(function(e){return e.value==t.value})},setOptionIndex:function(t){this.activeOptionIndex=t},resetOptionIndex:function(){var t=this.inputIsSelected?1:0;this.setOptionIndex(t)},nextOption:function(){var t=document.getElementsByClassName("ez-tag__option");this.activeOptionIndex>=t.length-1?this.setOptionIndex(0):this.setOptionIndex(this.activeOptionIndex+1)},prevOption:function(){var t=document.getElementsByClassName("ez-tag__option"),e=this.activeOptionIndex,n=t.length-1;e<=0?this.setOptionIndex(n):this.setOptionIndex(this.activeOptionIndex-1)}}}},function(t,e,n){t.exports={default:n(16),__esModule:!0}},function(t,e,n){n(17),t.exports=n(4).Object.assign},function(t,e,n){var i=n(18);i(i.S+i.F,"Object",{assign:n(28)})},function(t,e,n){var i=n(0),o=n(4),s=n(19),r=n(21),c="prototype",a=function(t,e,n){var u,l,p,f=t&a.F,d=t&a.G,h=t&a.S,v=t&a.P,g=t&a.B,x=t&a.W,m=d?o:o[e]||(o[e]={}),y=m[c],_=d?i:h?i[e]:(i[e]||{})[c];d&&(n=e);for(u in n)(l=!f&&_&&void 0!==_[u])&&u in m||(p=l?_[u]:n[u],m[u]=d&&"function"!=typeof _[u]?n[u]:g&&l?s(p,i):x&&_[u]==p?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[c]=t[c],e}(p):v&&"function"==typeof p?s(Function.call,p):p,v&&((m.virtual||(m.virtual={}))[u]=p,t&a.R&&y&&!y[u]&&r(y,u,p)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e,n){var i=n(20);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(22),o=n(27);t.exports=n(2)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(23),o=n(24),s=n(26),r=Object.defineProperty;e.f=n(2)?Object.defineProperty:function(t,e,n){if(i(t),e=s(e,!0),i(n),o)try{return r(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(1);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(2)&&!n(3)(function(){return 7!=Object.defineProperty(n(25)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(1),o=n(0).document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e,n){var i=n(1);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var i=n(29),o=n(40),s=n(41),r=n(42),c=n(6),a=Object.assign;t.exports=!a||n(3)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=a({},t)[n]||Object.keys(a({},e)).join("")!=i})?function(t,e){for(var n=r(t),a=arguments.length,u=1,l=o.f,p=s.f;a>u;)for(var f,d=c(arguments[u++]),h=l?i(d).concat(l(d)):i(d),v=h.length,g=0;v>g;)p.call(d,f=h[g++])&&(n[f]=d[f]);return n}:a},function(t,e,n){var i=n(30),o=n(39);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){var i=n(31),o=n(5),s=n(33)(!1),r=n(36)("IE_PROTO");t.exports=function(t,e){var n,c=o(t),a=0,u=[];for(n in c)n!=r&&i(c,n)&&u.push(n);for(;e.length>a;)i(c,n=e[a++])&&(~s(u,n)||u.push(n));return u}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(5),o=n(34),s=n(35);t.exports=function(t){return function(e,n,r){var c,a=i(e),u=o(a.length),l=s(r,u);if(t&&n!=n){for(;u>l;)if((c=a[l++])!=c)return!0}else for(;u>l;l++)if((t||l in a)&&a[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var i=n(8),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(8),o=Math.max,s=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):s(t,e)}},function(t,e,n){var i=n(37)("keys"),o=n(38);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var i=n(0),o="__core-js_shared__",s=i[o]||(i[o]={});t.exports=function(t){return s[t]||(s[t]={})}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var i=n(7);t.exports=function(t){return Object(i(t))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{label:{default:"value"},tag:{default:function(){}}},computed:{display:function(){return this.tag.new?'Add "'+this.getLabel()+'"':this.tag.selected?'"'+this.getLabel()+'" is already selected':this.tag.invalid?'No results matches "'+this.getLabel()+'"':this.getLabel()}},methods:{getLabel:function(){var t=this.tag[this.label];return void 0!==t?t:this.tag.value}}}},function(t,e){t.exports='\n\n\n<div class="ez-tag__option">{{display}}</div>\n\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{label:{default:"value"},tag:{default:function(){}}},computed:{style:function(){return{background:this.tag.color,color:this.tag.color?"white":"black",border:"1px solid "+(this.tag.color?this.tag.color:"#dedede")}}},methods:{unselect:function(t){this.$emit("unselect",t)},getLabel:function(){var t=this.tag[this.label];return void 0!==t?t:this.tag.value}}}},function(t,e){t.exports='\n\n<div class="ez-tag__item" :style="style">\n    <span class="ez-tag__item-text">{{getLabel()}}</span>\n    <span v-on:click="unselect(tag)" class="ez-tag__item-cross">\n        <span class="ez-tag__item-cross-line" :style="{ background: style.color }"></span>\n        <span class="ez-tag__item-cross-line" :style="{ background: style.color }"></span>\n    </span>\n</div>\n\n'},function(t,e){t.exports='\n\n<div v-on:click.stop="focusInput" :class="{\'ez-tag--focus\': inFocus}" class="ez-tag">\n    <div v-on:keyup.enter="selectTagFromOption" v-on:keydown.down="nextOption" v-on:keydown.up="prevOption" :class="{\'ez-tag__input-container--open\': showDropdown}" class="ez-tag__input-container">\n        <div class="ez-tag__items">\n            <tag-selected v-for="tag in selectedTags" v-on:unselect="unselectTag" :tag="tag" :label="label" track-by="$index"></tag-selected>\n            <input v-el:search v-on:keydown.8="unselectLastTag" v-model="input" tabindex="0" type="text" class="ez-tag__input" :placeholder="placeholder">\n            <div v-el:placeholder-measurement class="ez-tag__input-measure">{{placeholder}}</div>\n            <div v-el:search-measurement class="ez-tag__input-measure">{{input}}</div>\n        </div>\n        <div v-if="selectedTags.length" class="ez-tag__clear-items">\n            <span v-on:click.stop="clearSelected" class="ez-tag__item-cross">\n                <span class="ez-tag__item-cross-line"></span>\n                <span class="ez-tag__item-cross-line"></span>\n            </span>\n        </div>\n    </div>\n    <div v-if="showDropdown" v-el:dropdown class="ez-tag__dropdown">\n        <div class="ez-tag__option-container">\n            <tag-option v-for="tag in filteredTags" v-on:click="selectTag(tag)" :tag="tag" :label="label" track-by="$index" :class="{\'ez-tag__option--active\': activeOptionIndex == $index}" track-by="$index"></tag-option>\n        </div>\n        <div v-if="1<1" v-on:click.stop="closeDropdown" class="ez-tag__close">\n            Close\n        </div>\n    </div>\n</div>\n\n'}])});