!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["ez-tags"]=t():e["ez-tags"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){e.exports=!n(4)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"2.5.3"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var i=n(1),s=n(2),o=n(20),a=n(22),r="prototype",u=function(e,t,n){var c,l,f,d=e&u.F,p=e&u.G,g=e&u.S,h=e&u.P,v=e&u.B,x=e&u.W,_=p?s:s[t]||(s[t]={}),m=_[r],y=p?i:g?i[t]:(i[t]||{})[r];p&&(n=t);for(c in n)(l=!d&&y&&void 0!==y[c])&&c in _||(f=l?y[c]:n[c],_[c]=p&&"function"!=typeof y[c]?n[c]:v&&l?o(f,i):x&&y[c]==f?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[r]=e[r],t}(f):h&&"function"==typeof f?o(Function.call,f):f,h&&((_.virtual||(_.virtual={}))[c]=f,e&u.R&&m&&!m[c]&&a(m,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var i=n(23),s=n(24),o=n(26),a=Object.defineProperty;t.f=n(0)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),s)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(8),s=n(9);e.exports=function(e){return i(s(e))}},function(e,t,n){var i=n(32);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i,s;(i=n(47))&&i.__esModule&&Object.keys(i).length,s=n(48),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t,n){var i,s;(i=n(49))&&i.__esModule&&Object.keys(i).length,s=n(50),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EzTagsSelected=t.EzTagsOption=t.EzTags=void 0;a(n(14));var i=a(n(15)),s=a(n(11)),o=a(n(12));function a(e){return e&&e.__esModule?e:{default:e}}t.EzTags=i.default,t.EzTagsOption=s.default,t.EzTagsSelected=o.default},function(e,t){},function(e,t,n){var i,s;(i=n(16))&&i.__esModule&&Object.keys(i).length,s=n(51),e.exports=i||{},e.exports.__esModule&&(e.exports=e.exports.default),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(17)),s=r(n(43)),o=r(n(11)),a=r(n(12));function r(e){return e&&e.__esModule?e:{default:e}}t.default={components:{EzTagsOption:o.default,EzTagsSelected:a.default},data:function(){return{input:"",selectedTags:[],activeOptionIndex:0,inFocus:!1}},props:{loading:{default:!1},disabled:{default:!1},value:{default:"value"},label:{default:"value"},preview:{default:!1},allowNew:{default:!0},asyncAdd:{default:!1},options:{default:function(){return[]}},selected:{default:function(){return[]}},placeholder:{default:"Click here to type"}},computed:{isEnabled:function(){return!this.disabled&&!this.preview},showDropdown:function(){return!(!this.filteredTags.length||!this.inFocus)},inputIsSelected:function(){var e=this;return!!this.selectedTags.find(function(t){return e.getTagValue(t)==e.input})},inputExists:function(){var e=this;return!!this.allTags.find(function(t){return e.getTagValue(t)==e.input})},allTags:function(){return this.unselectedTags.concat(this.selectedTags).map(this.stringifyTagValue)},unselectedTags:function(){var e=this;return this.options.map(this.stringifyTagValue).filter(function(t){return!e.selectedTags.find(function(n){return e.getTagValue(n)==e.getTagValue(t)})})},filteredTags:function(){var e=this,t=[];if(this.input){var n;if(this.inputIsSelected)t.push((n={},(0,s.default)(n,this.value,this.input),(0,s.default)(n,"selected",!0),n));else if(!this.inputExists){var i,o;if(this.allowNew)t.push((i={},(0,s.default)(i,this.value,this.input),(0,s.default)(i,"new",!0),i));else t.push((o={},(0,s.default)(o,this.value,this.input),(0,s.default)(o,"invalid",!0),o))}t=t.concat(this.unselectedTags.filter(function(t){return e.getTagValue(t).toString().includes(e.input)}))}else t=this.unselectedTags;return this.removeDuplicates(t,this.value)}},watch:{activeOptionIndex:function(){this.checkOptionIsInView()},selected:function(e){this.clearSelected(),this.selectTags(e)},selectedTags:function(e){this.$emit("update",e)},input:function(e){this.setSearchElementsWidth(),this.resetOptionIndex()}},created:function(){this.selected&&this.selectTags(this.selected)},ready:function(){window.addEventListener("resize",this.setSearchElementsWidth),this.setSearchElementsWidth(),this.addFocusListeners()},beforeDestroy:function(){window.removeEventListener("resize",this.setSearchElementsWidth)},methods:{getElementComputedStyle:function(e,t){return window.getComputedStyle(e).getPropertyValue(t)},setSearchElementsWidth:function(){var e=this.$els.search,t=this.$els.placeholderMeasurement,n=this.$els.searchMeasurement,i=e.parentElement.clientWidth,s=t.clientWidth,o=n.clientWidth,a=o<s?s:o;a=(a>i?i:a)+"px",this.$els.search.style.width=a},removeDuplicates:function(e,t){return e.reduce(function(e,n){var i=n[t];return void 0===e.uniqueValues[i]&&(e.uniqueValues[i]=!0,e.items.push(n)),e},{uniqueValues:{},items:[]}).items},addFocusListeners:function(){var e=this;this.$el.addEventListener("focusin",function(t){e.inFocus=!0}),this.$el.addEventListener("focusout",function(t){var n=document.body,i=e.$el,s=t.relatedTarget;!s||s==n||s==i||i.contains(s)?e.inFocus=!0:e.inFocus=!1}),document.addEventListener("click",function(t){e.inFocus=!1})},stringifyTagValue:function(e){return(0,i.default)({},e,(0,s.default)({},this.value,this.getTagValue(e).toString()))},clearSelected:function(){this.selectedTags=[]},selectOptionFromIndex:function(e){var t=document.getElementsByClassName("ez-tag__option")[e];t&&this.checkOptionIsInView(t)},checkOptionIsInView:function(e){var t=document.getElementsByClassName("ez-tag__option--active")[0];if(e=e||t){var n=e.parentElement.offsetHeight,i=e.parentElement.scrollTop,s=e.offsetTop;(s<0||s>n||s<i)&&this.scrollToOption(e)}},scrollToOption:function(e){e&&(e.parentElement.scrollTop=e.offsetTop)},unselectTag:function(e){this.selectedTags=this.selectedTags.filter(function(t){return t!=e})},selectTagFromOption:function(){var e=document.getElementsByClassName("ez-tag__option--active")[0];e&&e.click()},canSelectTag:function(e){var t="string"==typeof this.getTagValue(e)?this.getTagValue(e).replace(/^\s*|\s*\Z|\s\B/g,""):this.getTagValue(e),n="number"==typeof t||!!t,i=!this.tagIsSelected(e),s=!e.invalid;return!!(i&&s&&n)},addTagToSelected:function(e){this.canSelectTag(e)&&this.selectedTags.push(e)},selectTags:function(e){var t=this;e.forEach(this.addTagToSelected),this.$nextTick(function(){t.checkIfActiveOptionExists()})},selectTag:function(e){this.canSelectTag(e)&&(this.asyncAdd&&e.new?(delete e.new,this.$emit("add",e)):this.selectedTags.push(e),this.input==this.getTagValue(e)&&(this.input=""),this.$nextTick(this.checkIfActiveOptionExists))},checkIfActiveOptionExists:function(){var e=document.getElementsByClassName("ez-tag__option");this.activeOptionIndex>e.length-1&&this.prevOption()},focusInput:function(){var e=this.$els.search;this.loading||e.focus()},unselectLastTag:function(e){this.input||this.selectedTags.pop()},tagIsSelected:function(e){var t=this;return this.selectedTags.find(function(n){return t.getTagValue(n)==t.getTagValue(e)})},setOptionIndex:function(e){this.activeOptionIndex=e},resetOptionIndex:function(){var e=this.inputIsSelected?1:0;this.setOptionIndex(e)},nextOption:function(){var e=document.getElementsByClassName("ez-tag__option");this.activeOptionIndex>=e.length-1?this.setOptionIndex(0):this.setOptionIndex(this.activeOptionIndex+1)},prevOption:function(){var e=document.getElementsByClassName("ez-tag__option"),t=this.activeOptionIndex,n=e.length-1;t<=0?this.setOptionIndex(n):this.setOptionIndex(this.activeOptionIndex-1)},getTagValue:function(e){var t=e[this.value];return void 0!==t?t:e.value},getTagLabel:function(e){var t=e[this.label];return void 0!==t?t:this.getTagValue(e)}}}},function(e,t,n){e.exports={default:n(18),__esModule:!0}},function(e,t,n){n(19),e.exports=n(2).Object.assign},function(e,t,n){var i=n(5);i(i.S+i.F,"Object",{assign:n(28)})},function(e,t,n){var i=n(21);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,s){return e.call(t,n,i,s)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(6),s=n(27);e.exports=n(0)?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(3);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){e.exports=!n(0)&&!n(4)(function(){return 7!=Object.defineProperty(n(25)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(3),s=n(1).document,o=i(s)&&i(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},function(e,t,n){var i=n(3);e.exports=function(e,t){if(!i(e))return e;var n,s;if(t&&"function"==typeof(n=e.toString)&&!i(s=n.call(e)))return s;if("function"==typeof(n=e.valueOf)&&!i(s=n.call(e)))return s;if(!t&&"function"==typeof(n=e.toString)&&!i(s=n.call(e)))return s;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";var i=n(29),s=n(40),o=n(41),a=n(42),r=n(8),u=Object.assign;e.exports=!u||n(4)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=i})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=s.f,f=o.f;u>c;)for(var d,p=r(arguments[c++]),g=l?i(p).concat(l(p)):i(p),h=g.length,v=0;h>v;)f.call(p,d=g[v++])&&(n[d]=p[d]);return n}:u},function(e,t,n){var i=n(30),s=n(39);e.exports=Object.keys||function(e){return i(e,s)}},function(e,t,n){var i=n(31),s=n(7),o=n(33)(!1),a=n(36)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),u=0,c=[];for(n in r)n!=a&&i(r,n)&&c.push(n);for(;t.length>u;)i(r,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(7),s=n(34),o=n(35);e.exports=function(e){return function(t,n,a){var r,u=i(t),c=s(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((r=u[l++])!=r)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var i=n(10),s=Math.min;e.exports=function(e){return e>0?s(i(e),9007199254740991):0}},function(e,t,n){var i=n(10),s=Math.max,o=Math.min;e.exports=function(e,t){return(e=i(e))<0?s(e+t,0):o(e,t)}},function(e,t,n){var i=n(37)("keys"),s=n(38);e.exports=function(e){return i[e]||(i[e]=s(e))}},function(e,t,n){var i=n(1),s="__core-js_shared__",o=i[s]||(i[s]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var i=n(9);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";t.__esModule=!0;var i,s=n(44),o=(i=s)&&i.__esModule?i:{default:i};t.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){e.exports={default:n(45),__esModule:!0}},function(e,t,n){n(46);var i=n(2).Object;e.exports=function(e,t,n){return i.defineProperty(e,t,n)}},function(e,t,n){var i=n(5);i(i.S+i.F*!n(0),"Object",{defineProperty:n(6).f})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{default:"value"},label:{default:"value"},disabled:{default:!1},tag:{default:function(){}}},computed:{display:function(){return this.tag.new?'Add "'+this.getLabel()+'"':this.tag.selected?'"'+this.getLabel()+'" is already selected':this.tag.invalid?'No results matches "'+this.getLabel()+'"':this.getLabel()}},methods:{getLabel:function(){var e=this.tag[this.label];return void 0!==e?e:this.getValue()},getValue:function(){var e=this.tag[this.value];return void 0!==e?e:this.tag.value}}}},function(e,t){e.exports='\n\n\n<div class="ez-tag__option">{{display}}</div>\n\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{value:{default:"value"},label:{default:"value"},disabled:{default:!1},tag:{default:function(){}}},computed:{style:function(){return{background:this.tag.color,color:this.tag.color?"white":"black",border:"1px solid "+(this.tag.color?this.tag.color:"#dedede")}}},methods:{unselect:function(e){this.$emit("unselect",e)},getLabel:function(){var e=this.tag[this.label];return void 0!==e?e:this.getValue()},getValue:function(){var e=this.tag[this.value];return void 0!==e?e:this.tag.value}}}},function(e,t){e.exports='\n\n<div class="ez-tag__item" :style="style">\n    <span class="ez-tag__item-text">{{getLabel()}}</span>\n    <span v-if="!disabled" v-on:click="unselect(tag)" class="ez-tag__item-cross">\n        <span class="ez-tag__item-cross-line" :style="{ background: style.color }"></span>\n        <span class="ez-tag__item-cross-line" :style="{ background: style.color }"></span>\n    </span>\n</div>\n\n'},function(e,t){e.exports='\n\n<div v-on:click.stop="focusInput" :class="{\'ez-tag--focus\': inFocus, \'ez-tag--disabled\': disabled, \'ez-tag--preview\': preview}" class="ez-tag">\n    <div v-if="loading" class="ez-tag__loader">\n        <div class="ez-tag__loader-inner">\n            <span class="fa fa-spinner fa-spin"></span>\n        </div>\n    </div>\n    <div v-on:keyup.enter="selectTagFromOption" v-on:keydown.down="nextOption" v-on:keydown.up="prevOption" :class="{\'ez-tag__input-container--open\': showDropdown}" class="ez-tag__input-container">\n        <div class="ez-tag__items">\n            <ez-tags-selected v-for="tag in selectedTags" v-on:unselect="unselectTag" :tag="tag" :label="label" :value="value" :disabled="!isEnabled" track-by="$index"></ez-tags-selected>\n            <input v-show="isEnabled" v-el:search v-on:keydown.8="unselectLastTag" v-model="input" :tabindex="loading ? -1 : 0" type="text" class="ez-tag__input" :placeholder="placeholder">\n            <div v-el:placeholder-measurement class="ez-tag__input-measure">{{placeholder}}</div>\n            <div v-el:search-measurement class="ez-tag__input-measure">{{input}}</div>\n            <div v-if="!isEnabled && !selectedTags.length" class="ez-tag__no-tags">No tags</div>\n        </div>\n        <div v-if="selectedTags.length && isEnabled" class="ez-tag__clear-items">\n            <span v-on:click.stop="clearSelected" class="ez-tag__item-cross">\n                <span class="ez-tag__item-cross-line"></span>\n                <span class="ez-tag__item-cross-line"></span>\n            </span>\n        </div>\n    </div>\n    <div v-if="showDropdown && isEnabled" v-el:dropdown class="ez-tag__dropdown">\n        <div class="ez-tag__option-container" tabindex="-1">\n            <ez-tags-option v-for="tag in filteredTags" v-on:click="selectTag(tag)" :tag="tag" :label="label" :value="value" :disabled="!isEnabled" track-by="$index" :class="{\'ez-tag__option--active\': activeOptionIndex == $index}" track-by="$index"></ez-tags-option>\n        </div>\n        <div v-if="1<1" v-on:click.stop="closeDropdown" class="ez-tag__close">\n            Close\n        </div>\n    </div>\n</div>\n\n'}])});